<!DOCTYPE html>
<html lang="es-AR" xmlns:th="http://www.thymeleaf.org">
  <head th:replace="/fragments/head :: head">
</head>
<body>
  <header th:replace="/fragments/header :: header"></header>
  <main>
      
      <div class="alert alert-danger" role="alert" th:if="${error != null}" th:text="${error}"></div>
              <div class="alert alert-success" role="alert" th:if="${message != null}" th:text="${message}"></div>
    
    <div class="card-body">          
      <h2 class="card-title titleCard"> nuevo turno </h2>
       <!--<p th:text="${actProfe}">actProfe</p>
       <p th:text="${actTurno}">actTurno</p>
       <p th:text="${act}">act</p> -->
       
       <!--  lee la atencion y carga los profesionales -->
       
       
      <form action="/nuevoTurnoATENCION" method="POST">
          <div th:if="${actAtencion} == '0' ">
          <label> Tipo de Atencion </label>
          <select  class="form-select" aria-label="Default select example" name="tipoDeAtencion" >
            <option value="1">Atencion</option>
            <option value="2">Peluqueria</option>
            <option value="3">Vacunacion</option>> 
          </select>
          <button class="btn btn-primary" type="submit">Seleccionar tipo de atencion</button>
      </form>    
       
       <!--  lee el profesional y carga los horarios y las mascotas -->
      <form action="/nuevoTurnoPROFESIONAL" method="POST">
          <div th:if="${actProfe} == '2' ">
          <label > profesional </label>
           
          <!--<select th:field="*{profesionalSelec}" class="form-select" aria-label="Default select example" name="profesionalSelec">
              <option value="'VACIO'" th:text="'Open this select menu'" ></option>
              <option th:each="profesional: ${profesionalSelec}"
                        th:value="${profesional.id}"
                        th:text="${profesional.getNombre()}"/>
           </select>-->
          
            <div class="form-group row">
                
                
                <select class="form-control form-control-sm col-md-6" name="profesionalSelec">
                                
                                <option th:each="profesional: ${profesionalSelec}"
                                          th:value="${profesional.id}"
                                          th:text="${profesional.nombre}"/>					
                </select>       
            </div>
          
          <button class="btn btn-primary" type="submit">Seleccionar profesional</button>
      </form>    
       
       <!--  lee todos los campos y hace la carga a bd -->
      <form action="/nuevoTurnoCOMPLETO" method="POST">
         
          </div>
          <!--<div th:if="${actTurno != '3'}">--> 
          <div th:if="${actTurno} == '3' " >
                <label > horarios disponibles </label>
                <select  class="form-control form-control-sm col-md-6" name="horarioTurno">
                                <option th:each="turno: ${horarioTurno}"
                                          th:value="${turno.id}"
                                          th:text="${turno.fecha}"/>
                </select>
                <label  > mascotas </label> 
                
                <select  class="form-control form-control-sm col-md-6" name="mascotaSelec">
                                <option th:each="mascota: ${mascotaSelec}"
                                          th:value="${mascota.id}"
                                          th:text="${mascota.nombre}"/>
                </select>
               
                <button class="btn btn-primary" type="submit">Cargar Turno</button>
           </div>
      </form>
     </div>
  </main>
  <footer th:replace="/fragments/footer :: footer"></footer>


  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"
    integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
    integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13"
    crossorigin="anonymous"></script>
</body>

</html>